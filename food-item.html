<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Egg & Cheese</title>
    <link rel="stylesheet" href="./css/global.css">
</head>
<body>
<div class="iphone-container">
    <div class="modal-overlay" onclick="closeModal()"></div>

    <div class="bottom-modal">

    <!-- Handle (non-scrolling) -->
    <div class="modal-handle"></div>

    <!-- SCROLLABLE CONTENT -->
    <div class="modal-content">

        <h2 class="mb-2">
            Pickup from Pete's
        </h2>
        <p class="mb-4">
            11 N 33rd St, Philadelphia, PA 19104
        </p>

        <div class="asap-selection mb-2">
            <p>ASAP (ready in ~12 min)</p>
        </div>

        <div class="schedule-dropdown">
        <div class="dropdown-header">
            <h4>Schedule Pickup Time</h4>
            <img class="icon arrow" src="./img/arrow-down.png" alt="down arrow">
        </div>
        <div class="dropdown-menu">
            <p class="dropdown-item">11:00 AM</p>
            <p class="dropdown-item">11:15 AM</p>
            <p class="dropdown-item">11:30 AM</p>
            <p class="dropdown-item">11:45 AM</p>
            <p class="dropdown-item">12:00 PM</p>
        </div>
        </div>

        <hr class="mb-5 mt-5">

        <!-- ORDER ITEM -->
        <div class="order-edit-summary mb-2">
            <img class="order-img" src="./img/food/egg-bacon.jpg" alt="bacon egg and cheese">

            <div class="order-content">
                <div class="order-top">
                    <h4>Egg & Cheese</h4>

                    <div class="order-edit-right">
                        <h4 class="order-price">$5.00</h4>

                        <button class="icon-btn delete-btn">
                            <img class="icon" src="./img/trash-can.png" alt="Remove item">
                        </button>
                    </div>
                </div>

                <div class="order-edit-bottom">
                    <img class="edit-icon" src="./img/edit.png" alt="edit icon">

                    <div class="quantity-option">
                        <button class="icon-btn decrease-btn">
                            <img class="icon" src="./img/minus.png" alt="Decrease quantity">
                        </button>

                        <h4 class="quantity-value">1</h4>

                        <button class="icon-btn increase-btn">
                            <img class="icon" src="./img/plus-fill.png" alt="Increase quantity">
                        </button>
                    </div>
                </div>
            </div>
        </div>

        <!-- ORDER ITEM -->
        <div class="order-edit-summary mb-5">
            <img class="order-img" src="./img/food/diet-coke.jpg" alt="diet coke image">

            <div class="order-content">
                <div class="order-top">
                    <h4>Diet Coke</h4>

                    <div class="order-edit-right">
                        <h4 class="order-price">$2.00</h4>

                        <button class="icon-btn delete-btn">
                            <img class="icon" src="./img/trash-can.png" alt="Remove item">
                        </button>
                    </div>
                </div>

                <div class="order-edit-bottom">
                    <img class="edit-icon" src="./img/edit.png" alt="edit icon">

                    <div class="quantity-option">
                        <button class="icon-btn decrease-btn">
                            <img class="icon" src="./img/minus.png" alt="Decrease quantity">
                        </button>

                        <h4 class="quantity-value">1</h4>

                        <button class="icon-btn increase-btn">
                            <img class="icon" src="./img/plus-fill.png" alt="Increase quantity">
                        </button>
                    </div>
                </div>
            </div>
        </div>

        <hr class="mb-5">

        <h2 class="mb-3">Want to Add a Side?</h2>

        <div class="past-orders-scroll mb-6">
            <div class="past-orders">
                <img class="food-img" src="./img/food/egg-and-cheese-bagel.jpg" alt="egg-and-cheese">
                <h4>Egg and Cheese</h4>
                <div class="price-arrow">
                    <p>$4.00</p>
                    <img class="plus" src="./img/plus.png" alt="plus icon">
                </div>
            </div>

            <div class="past-orders">
                <img class="food-img" src="./img/food/grilled-cheese.jpg" alt="grilled-cheese">
                <h4>Grilled Cheese</h4>
                <div class="price-arrow">
                    <p>$6.00</p>
                    <img class="plus" src="./img/plus.png" alt="plus icon">
                </div>
            </div>

            <div class="past-orders">
                <img class="food-img" src="./img/food/chocolate-muffin.jpg" alt="muffin">
                <h4>Muffin</h4>
                <div class="price-arrow">
                    <p>$1.75</p>
                    <img class="plus" src="./img/plus.png" alt="plus icon">
                </div>
            </div>
        </div>
        <a href="./checkout.html">
            <div class="btn">
                <h4>Proceed to Checkout ($7.00)</h4>
            </div>
        </a>
    </div>
</div>

<a href="index.html">
        <img class="arrow-left mb-5" src="./img/arrow-left.png" alt="left arrow">
    </a>

    <div item-des-page>
        <img class="food-img mb-3" src="./img/food/egg-and-cheese-bagel.jpg" alt="egg-and-cheese">
        <h2 class="mb-2">Egg & Cheese</h2>
        <p class="mb-2">Egg and cheese served on bread of your choice</p>
        <p class="mb-5">$4.00</p>
    </div>

    <hr class="mb-5">

    <!-- BREAD CUSTOMIZATION -->
    <div class="customization-dropdown">
        <div class="dropdown-header">
            <h4>* Bread [select one]</h4>
            <img class="icon arrow" src="./img/arrow-down.png" alt="down arrow">
        </div>
    <div class="dropdown-menu">
        <div class="dropdown-item">
            <img class="dropdown-img" src="./img/ingredients/plain-bagel.png" alt="">
            <p>Plain Bagel</p>
            <p>+$0.00</p>
        </div>
        <div class="dropdown-item">
            <img class="dropdown-img" src="./img/ingredients/everything-bagel.png" alt="">
            <p>Everything Bagel</p>
            <p>+$0.00</p>
        </div>
        <div class="dropdown-item">
            <img class="dropdown-img" src="./img/ingredients/white-bread.png" alt="">
            <p>White Bread</p>
            <p>+$0.00</p>
        </div>
        <div class="dropdown-item">
            <img class="dropdown-img" src="./img/ingredients/wheat.png" alt="">
            <p>Wheat Bread</p>
            <p>+$0.00</p>
        </div>
        <div class="dropdown-item">
            <img class="dropdown-img" src="./img/ingredients/croissant.png" alt="">
            <p>Croissant</p>
            <p>+$0.00</p>
        </div>
        <div class="dropdown-item">
            <img class="dropdown-img" src="./img/ingredients/tortilla.png" alt="">
            <p>Tortilla</p>
            <p>+$0.00</p>
        </div>
        <div class="dropdown-item">
            <img class="dropdown-img" src="./img/ingredients/pita.png" alt="">
            <p>Pita</p>
            <p>+$0.00</p>
        </div>
        <div class="dropdown-item">
            <img class="dropdown-img" src="./img/ingredients/hoagie.png" alt="">
            <p>Hoagie Roll</p>
            <p>+$0.00</p>
        </div>
    </div>
    </div>

    <!-- TOAST CUSTOMIZATION -->
    <div class="customization-dropdown">
        <div class="dropdown-header">
            <h4>* Toast Levels [select one]</h4>
            <img class="icon arrow" src="./img/arrow-down.png" alt="down arrow">
        </div>
    <div class="dropdown-menu">
        <div class="dropdown-item">
            <img class="dropdown-img" src="./img/ingredients/untoasted-1.png" alt="">
            <p>Not Toasted</p>
        </div>
        <div class="dropdown-item">
            <img class="dropdown-img" src="./img/ingredients/toast-level-1.png" alt="">
            <p>Level 1</p>
        </div>
        <div class="dropdown-item">
            <img class="dropdown-img" src="./img/ingredients/toast-level-2.png" alt="">
            <p>Level 2</p>
        </div>
        <div class="dropdown-item">
            <img class="dropdown-img" src="./img/ingredients/toast-level-3.png" alt="">
            <p>Level 3</p>
        </div>
        <div class="dropdown-item">
            <img class="dropdown-img" src="./img/ingredients/toast-level-4.png" alt="">
            <p>Level 4</p>
        </div>
    </div>
    </div>


    <!-- MEAT CUSTOMIZATION -->
    <div class="customization-dropdown">
        <div class="dropdown-header">
            <h4>* Meat [select one]</h4>
            <img class="icon arrow" src="./img/arrow-down.png" alt="down arrow">
        </div>
    <div class="dropdown-menu">
        <div class="dropdown-item">
            <img class="dropdown-img" src="./img/ingredients/egg.png" alt="">
            <p>Egg</p>
            <p>+$0.00</p>
        </div>
        <div class="dropdown-item">
            <img class="dropdown-img" src="./img/ingredients/bacon.png" alt="">
            <p>Bacon</p>
            <p>+$1.00</p>
        </div>
        <div class="dropdown-item">
            <img class="dropdown-img" src="./img/ingredients/ham.png" alt="">
            <p>Ham</p>
            <p>+$1.00</p>
        </div>
        <div class="dropdown-item">
            <img class="dropdown-img" src="./img/ingredients/turkey-bacon.png" alt="">
            <p>Turkey Bacon</p>
            <p>+$1.00</p>
        </div>
        <div class="dropdown-item">
            <img class="dropdown-img" src="./img/ingredients/sausage.png" alt="">
            <p>Sausage</p>
            <p>+$1.00</p>
        </div>
        <div class="dropdown-item">
            <img class="dropdown-img" src="./img/ingredients/porkroll.png" alt="">
            <p>Pork Roll</p>
            <p>+$1.00</p>
        </div>
        <div class="dropdown-item">
            <img class="dropdown-img" src="./img/ingredients/scrapple.png" alt="">
            <p>Scrapple</p>
            <p>+$1.00</p>
        </div>
        <div class="dropdown-item">
            <img class="dropdown-img" src="./img/ingredients/hot-sausage.png" alt="">
            <p>Hot Sausage</p>
            <p>+$2.00</p>
        </div>
        <div class="dropdown-item">
            <img class="dropdown-img" src="./img/ingredients/egg-steak.png" alt="">
            <p>Steak Egg</p>
            <p>+$3.00</p>
        </div>
    </div>
    </div>

    <!-- CHEESE CUSTOMIZATION -->
    <div class="customization-dropdown">
        <div class="dropdown-header">
            <h4>* Cheese [select one]</h4>
            <img class="icon arrow" src="./img/arrow-down.png" alt="down arrow">
        </div>
    <div class="dropdown-menu">
        <div class="dropdown-item">
            <img class="dropdown-img" src="./img/ingredients/cheese.png" alt="">
            <p>Cheese</p>
            <p>+$0.00</p>
        </div>
        <div class="dropdown-item">
            <img class="dropdown-img" src="./img/ingredients/no-cheese.png" alt="">
            <p>No Cheese</p>
            <p>+$0.00</p>
        </div>
    </div>
    </div>

    <!-- XTRA CUSTOMIZATION -->
    <div class="customization-dropdown">
        <div class="dropdown-header">
            <h4>* Extra [optional]</h4>
            <img class="icon arrow" src="./img/arrow-down.png" alt="down arrow">
        </div>
    <div class="dropdown-menu">
        <div class="dropdown-item">
            <img class="dropdown-img" src="./img/ingredients/hash brown.png" alt="">
            <p>Hashbrown</p>
            <p>+$1.00</p>
        </div>
        <div class="dropdown-item">
            <img class="dropdown-img" src="./img/ingredients/salt.png" alt="">
            <p>Salt</p>
            <p>+$0.00</p>
        </div>
        <div class="dropdown-item">
            <img class="dropdown-img" src="./img/ingredients/pepper.png" alt="">
            <p>Pepper</p>
            <p>+$0.00</p>
        </div>
        <div class="dropdown-item">
            <img class="dropdown-img" src="./img/ingredients/ketchup.png" alt="">
            <p>Ketchup</p>
            <p>+$0.00</p>
        </div>
    </div>
    </div>

    <div class="quantity">
        <h4>Quantity</h4>
        <div class="quantity-option">
            <button class="qty-btn" id="decrease">
                <img class="icon" src="./img/minus.png" alt="Decrease quantity">
            </button>

            <h4 id="quantity-value">1</h4>

            <button class="qty-btn" id="increase">
                <img class="icon" src="./img/plus-fill.png" alt="Increase quantity">
            </button>
        </div>
    </div>

    <div class="add-to-favorites">
        <h4>Add to favorites?</h4>
        <img class="icon" src="./img/heart-empty.png" alt="heart empty icon">
    </div>

    <div class="btn mt-5"  onclick="openModal()">
        <h4>Add to bag</h4>
    </div>
</div>
</body>
</html>

<script>
function openModal() {
    document.body.style.overflow = 'hidden';
    
    const modal = document.querySelector('.bottom-modal');
    const overlay = document.querySelector('.modal-overlay');
    const container = document.querySelector('.iphone-container');
    
    const containerRect = container.getBoundingClientRect();
    const containerBottom = window.innerHeight - containerRect.bottom;
    
    modal.style.bottom = containerBottom + 'px';
    modal.style.maxHeight = (containerRect.height - 64) + 'px';
    
    overlay.style.bottom = containerBottom + 'px';
    overlay.style.top = containerRect.top + 'px';
    overlay.style.height = containerRect.height + 'px';

    modal.style.display = 'flex';
    overlay.style.display = 'block';

    requestAnimationFrame(() => {
        modal.classList.add('active');
        overlay.classList.add('active');
    });
}

function closeModal() {
    document.body.style.overflow = '';

    const modal = document.querySelector('.bottom-modal');
    const overlay = document.querySelector('.modal-overlay');

    modal.classList.remove('active');
    overlay.classList.remove('active');

    setTimeout(() => {
        modal.style.display = 'none';
        overlay.style.display = 'none';
    }, 350);
     
    document.querySelector('.nav').classList.remove('hidden');
}

document.querySelectorAll('.customization-dropdown').forEach(dropdown => {
  const header = dropdown.querySelector('.dropdown-header');
  if (header) {
    header.addEventListener('click', () => {
      dropdown.classList.toggle('active');
    });
  }
});

document.querySelectorAll('.schedule-dropdown').forEach(dropdown => {
  const header = dropdown.querySelector('.dropdown-header');
  const headerText = header.querySelector('h4');
  
  header.addEventListener('click', () => {
    dropdown.classList.toggle('active'); // open/close menu
  });
  
  // Handle selection
  dropdown.querySelectorAll('.dropdown-item').forEach(item => {
    item.addEventListener('click', () => {
      // Remove selected class from all items
      dropdown.querySelectorAll('.dropdown-item').forEach(i => {
        i.classList.remove('selected');
        i.style.background = '';
      });
      
      // Add selected class to clicked item
      item.classList.add('selected');
      item.style.background = '#FCC5BE';
      
      // Update header text and background
      headerText.textContent = item.textContent;
      header.style.background = '#FFF1EF';
      
      // Close menu after selection
      dropdown.classList.remove('active');
    });
  });
});

  const decreaseBtn = document.getElementById('decrease');
  const increaseBtn = document.getElementById('increase');
  const quantityValue = document.getElementById('quantity-value');

  let quantity = 1;

  increaseBtn.addEventListener('click', () => {
    quantity++;
    quantityValue.textContent = quantity;
  });

  decreaseBtn.addEventListener('click', () => {
    if (quantity > 1) {
      quantity--;
      quantityValue.textContent = quantity;
    }
  });

  document.querySelectorAll('.order-edit-summary').forEach(orderItem => {

  const increaseBtn = orderItem.querySelector('.increase-btn');
  const decreaseBtn = orderItem.querySelector('.decrease-btn');
  const quantityText = orderItem.querySelector('.quantity-value');
  const deleteBtn = orderItem.querySelector('.delete-btn');

  let quantity = parseInt(quantityText.textContent);

  if (increaseBtn) {
    increaseBtn.addEventListener('click', () => {
      quantity++;
      quantityText.textContent = quantity;
    });
  }

  if (decreaseBtn) {
    decreaseBtn.addEventListener('click', () => {
      if (quantity > 1) {
        quantity--;
        quantityText.textContent = quantity;
      }
    });
  }

  if (deleteBtn) {
    deleteBtn.addEventListener('click', () => {
      orderItem.remove();
    });
  }

});

// Handle customization dropdown selections
document.querySelectorAll('.customization-dropdown').forEach(dropdown => {
  const dropdownMenu = dropdown.querySelector('.dropdown-menu');
  const dropdownHeader = dropdown.querySelector('.dropdown-header');
  
  dropdownMenu.querySelectorAll('.dropdown-item').forEach(item => {
    item.addEventListener('click', () => {
      // Remove active class from all items in this dropdown
      dropdownMenu.querySelectorAll('.dropdown-item').forEach(i => {
        i.classList.remove('selected');
        i.style.background = '';
        i.style.border = '1px solid #45371F';
      });
      
      // Add active class to clicked item
      item.classList.add('selected');
      item.style.background = '#FCC5BE';
      item.style.border = '2px solid #45371F';
      
      // Get the image and text from selected item
      const img = item.querySelector('.dropdown-img');
      const text = item.querySelector('p');
      
      if (img && text) {
        // Check if selection display already exists
        let selectionDisplay = dropdown.querySelector('.selection-display');
        
        if (!selectionDisplay) {
          // Create the selection display div
          selectionDisplay = document.createElement('div');
          selectionDisplay.className = 'selection-display';
          selectionDisplay.style.cssText = `
            display: flex;
            gap: 8px;
            padding: 12px 16px;
            background: var(--color-background);
            border-top: 1px solid var(--color-dark-primary);
          `;
          
          // Insert it before the dropdown menu
          dropdown.insertBefore(selectionDisplay, dropdownMenu);
        }
        
        // Clear and populate selection display
        selectionDisplay.innerHTML = `
          <div style="
            position: relative;
            display: flex;
            align-items: center;
            justify-content: center;
            width: 64px;
            height: 64px;
            background: #FCC5BE;
            border-radius: 8px;
            border: 1px solid #45371F;
          ">
            <img src="${img.src}" alt="${text.textContent}" style="width: 48px; height: 48px;">
            <button class="remove-selection" style="
              position: absolute;
              top: -8px;
              right: -8px;
              width: 24px;
              height: 24px;
              background: #FCC5BE;
              border: 1px solid #45371F;
              border-radius: 50%;
              display: flex;
              align-items: center;
              justify-content: center;
              cursor: pointer;
              padding: 0;
            ">
              <svg width="12" height="12" viewBox="0 0 12 12" fill="none">
                <path d="M1 1L11 11M1 11L11 1" stroke="#45371F" stroke-width="2" stroke-linecap="round"/>
              </svg>
            </button>
          </div>
          <div style="display: flex; flex-direction: column; justify-content: center;">
            <p style="font-weight: 700; margin: 0;">${text.textContent}</p>
          </div>
        `;
        
        // Add click handler to remove button
        const removeBtn = selectionDisplay.querySelector('.remove-selection');
        removeBtn.addEventListener('click', (e) => {
          e.stopPropagation();
          selectionDisplay.remove();
          item.classList.remove('selected');
          item.style.background = '';
          item.style.border = '1px solid #45371F';
        });
      }
      
      // Close the dropdown after selection
      dropdown.classList.remove('active');
    });
  });
});
</script>